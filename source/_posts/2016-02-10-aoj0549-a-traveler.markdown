---
layout: post
title: "AOJ0549 A Traveler"
date: 2016-02-10 22:34:52 +0900
comments: true
categories: [AOJ, BIT]
---

問題文  
http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0549

<!-- more -->
宿場町{% m %}kから宿場町k + a_i{% em %}までのコストの和が求まれば良いのでBITを用いた．ブログを書いてる時に，これimosだけのほうがシンプルでlogが消えることに気付いたけど，この問題だったらどっちでもいいよね(log^2とかにならないのでほぼ定数)となった．

# Code

```cpp
#include <iostream>
#include <vector>
#include <string>
#include <cstring>
#include <algorithm>
#include <sstream>
#include <map>
#include <set>

#define REP(i,k,n) for(int i=k;i<n;i++)
#define rep(i,n) for(int i=0;i<n;i++)
#define INF 1<<30
#define pb push_back
#define mp make_pair

using namespace std;
typedef long long ll;
typedef pair<int,int> P;

struct BIT {
	vector<int> bit;

	BIT(int n) : bit(n+1) {}

	int sum(int i) {
		int s = 0;
		while(i > 0) {
			s += bit[i];
			i -= i & -i;
		}
		return s;
	}

	void add(int i,int x) {
		while(i <= bit.size()) {
			bit[i] += x;
			i += i & -i;
		}
	}
};

int main() {
	int n, m;
	while(cin >> n >> m) {
		if(n == 0 && m == 0) break;

		BIT bit(100005);
		rep(i, n-1) {
			int a;
			cin >> a;

			bit.add(i+1, a);
		}

		int cur = 1;
		ll ans = 0;

		rep(i, m) {
			int a;
			cin >> a;

			ans += abs(bit.sum(cur+a-1) - bit.sum(cur-1));
			ans %= 100000;
			cur += a;
		}

		cout << ans << endl;
	}

	return 0;
}
```

いくらlogだからといって変につけたりするとTLEすることがあるが何回かあったので，注意したい．
