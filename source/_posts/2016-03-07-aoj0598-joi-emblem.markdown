---
layout: post
title: "AOJ0598 JOI Emblem"
date: 2016-03-07 09:47:00 +0900
comments: true
categories: [AOJ]
---

<blockquote class="embedly-card" data-card-key="39deea93f79745829254c0652225a544" data-card-controls="0" data-card-type="article" data-card-branding="0"><h4><a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0598">JOI Emblem | Aizu Online Judge</a></h4><p>Introduction to Programming Introduction to Algorithms and Data Structures Library of Data Structures Library of Graph Algorithms Library of Computational Geometry Library of Dynamic Programming Library of Number Theory</p></blockquote>
<script async src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script>

<!-- more -->

最初に今の旗に紋章がいくつあるかをみる．次に1文字ずつ変更し，新たに紋章となった所をカウントする．

# Code

```cpp
#include <iostream>
#include <vector>
#include <string>
#include <cstring>
#include <algorithm>
#include <sstream>
#include <map>
#include <set>

#define REP(i,k,n) for(int i=k;i<n;i++)
#define rep(i,n) for(int i=0;i<n;i++)
#define INF 1<<30
#define pb push_back
#define mp make_pair

using namespace std;
typedef long long ll;
typedef pair<int,int> P;

int h, w;
bool used[1005][1005];
vector<string> s, v(2);


int func(int i, int j) {
	int ret = 0;
	if(i-1 >= 0 && j-1 >= 0) {
		if(s[i-1][j-1] == v[0][0] && s[i-1][j] == v[0][1] && s[i][j-1] == v[1][0] && s[i][j] == v[1][1]) {
			ret++;
		}
	}

	if(i-1 >= 0 && j+1 < w) {
		if(s[i-1][j] == v[0][0] && s[i-1][j+1] == v[0][1] && s[i][j] == v[1][0] && s[i][j+1] == v[1][1]) {
			ret++;
		}
	}
	if(i+1 < h && j-1 >= 0) {
		if(s[i][j-1] == v[0][0] && s[i][j] == v[0][1] && s[i+1][j-1] == v[1][0] && s[i+1][j] == v[1][1]) {
			ret++;
		}
	}

	if(i+1 < h && j+1 < w) {
		if(s[i][j] == v[0][0] && s[i][j+1] == v[0][1] && s[i+1][j] == v[1][0] && s[i+1][j+1] == v[1][1]) {
			ret++;
		}
	}
	return ret;
}

int main() {
	cin >> h >> w;

	s.resize(h);

	rep(i, h) cin >> s[i];
	rep(i, 2) cin >> v[i];

	int ans = 0;
	memset(used, 0, sizeof(used));

	rep(i, h-1) {
		rep(j, w-1) {
			if(s[i][j] == v[0][0] && s[i][j+1] == v[0][1] && s[i+1][j] == v[1][0] && s[i+1][j+1] == v[1][1]) {
				ans++;
				used[i][j] = true;
				used[i][j+1] = true;
				used[i+1][j] = true;
				used[i+1][j+1] = true;
			}
		}
	}

	int res = 0;
	rep(i, h) {
		rep(j, w) {
			int t = func(i, j), t2 = 0;
			char c = s[i][j];

			s[i][j] = 'J';
			t2 = func(i, j);
			res = max(res, t2 - t);

			s[i][j] = 'O';
			t2 = func(i, j);
			res = max(res, t2 - t);

			s[i][j] = 'I';
			t2 = func(i, j);
			res = max(res, t2 - t);

			s[i][j] = c;
		}
	}

	cout << ans + res << endl;

	return 0;
}
```

