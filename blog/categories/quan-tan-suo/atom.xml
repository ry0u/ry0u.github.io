<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 全探索 | ry0u_ydのblog]]></title>
  <link href="http://ry0u.github.io/blog/categories/quan-tan-suo/atom.xml" rel="self"/>
  <link href="http://ry0u.github.io/"/>
  <updated>2016-05-11T11:31:32+09:00</updated>
  <id>http://ry0u.github.io/</id>
  <author>
    <name><![CDATA[ry0u_yd]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[AOJ1500 ID]]></title>
    <link href="http://ry0u.github.io/blog/2016/04/19/aoj1500-id/"/>
    <updated>2016-04-19T23:41:11+09:00</updated>
    <id>http://ry0u.github.io/blog/2016/04/19/aoj1500-id</id>
    <content type="html"><![CDATA[<blockquote class="embedly-card" data-card-key="39deea93f79745829254c0652225a544" data-card-controls="0" data-card-branding="0" data-card-type="article"><h4><a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1500">ID | Aizu Online Judge</a></h4><p>Introduction to Programming Introduction to Algorithms and Data Structures Library of Data Structures Library of Graph Algorithms Library of Computational Geometry Library of Dynamic Programming Library of Number Theory</p></blockquote>


<script async src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script>




<!-- more -->


<p>&lsquo;?'に入る<script type="math/tex"> a_i </script>を全探索．&rsquo;?&lsquo;の数が小さいので十分間に合う．stringstream最初使ってて，やっぱり遅い&hellip;となった．</p>

<h1>Code</h1>

<pre><code class="cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
#include &lt;sstream&gt;
#include &lt;map&gt;
#include &lt;set&gt;

#define REP(i,k,n) for(int i=k;i&lt;n;i++)
#define rep(i,n) for(int i=0;i&lt;n;i++)
#define INF 1&lt;&lt;30
#define pb push_back
#define mp make_pair

using namespace std;
typedef long long ll;
typedef pair&lt;int,int&gt; P;

int f(int x, bool f) {
    int ret = 0;
    if(f) x *= 2;
    while(x) {
        ret += (x % 10);
        x /= 10;
    }
    return ret;
}

vector&lt;int&gt; id, a;
int n, m;
int cnt = 0;

void dfs(int i, int res) {
    if(i == id.size()) {
        if(res % 10 == 0) {
            cnt++;
        }
        return;
    }

    rep(j, m) {
        if((n - id[i]) % 2 == 0) {
            dfs(i + 1, res + f(a[j], true));
        } else {
            dfs(i + 1, res + f(a[j], false));
        }
    }
}

int main() {
    cin &gt;&gt; n;

    string s;
    cin &gt;&gt; s;

    cin &gt;&gt; m;

    a.resize(m);
    rep(i, m) cin &gt;&gt; a[i];
    sort(a.begin(), a.end());

    int sum = 0;
    rep(i, n) {
        if(s[i] =='*') {
            id.push_back(i);
        } else {
            if((n - i) % 2 == 0) {
                sum += f(s[i] - '0', true);
            } else {
                sum += f(s[i] - '0' , false);
            }
        }
    }

    cnt = 0;
    dfs(0, sum);

    cout &lt;&lt; cnt &lt;&lt; endl;

    return 0;
}
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AOJ1237 Shredding Company]]></title>
    <link href="http://ry0u.github.io/blog/2016/03/22/aoj1237-shredding-company/"/>
    <updated>2016-03-22T17:04:43+09:00</updated>
    <id>http://ry0u.github.io/blog/2016/03/22/aoj1237-shredding-company</id>
    <content type="html"><![CDATA[<blockquote class="embedly-card" data-card-key="39deea93f79745829254c0652225a544" data-card-controls="0" data-card-type="article" data-card-branding="0"><h4><a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1237">Shredding Company</a></h4><p>You have just been put in charge of developing a new shredder for the Shredding Company. Although a ``normal'' shredder would just shred sheets of paper into little pieces so that the contents would become unreadable, this new shredder needs to have the following unusual basic characteristics.</p></blockquote>


<script async src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script>




<!-- more-->


<p></p>

<p>作れる数を全列挙して， <script type="math/tex"> n </script>以下の最大の数を出力する．構成する数も出力するので，dfsの引数ににvectorを持たせてみた．</p>

<h1>Code</h1>

<pre><code class="cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
#include &lt;sstream&gt;
#include &lt;map&gt;
#include &lt;set&gt;

#define REP(i,k,n) for(int i=k;i&lt;n;i++)
#define rep(i,n) for(int i=0;i&lt;n;i++)
#define INF 1&lt;&lt;30
#define pb push_back
#define mp make_pair

using namespace std;
typedef long long ll;
typedef pair&lt;int,int&gt; P;

int stoa(string s) {
    int ret = 0, t = 1;
    for(int i = s.size()-1; i &gt;= 0; i--) {
        ret += (s[i] - '0') * t;
        t *= 10;
    }
    return ret;
}

int n;
string s;
int vmin = INF, vmax = 0, ans = 0, cnt = 0;
vector&lt;int&gt; res;

void dfs(int i, int sum, vector&lt;int&gt; v) {
    if(i == s.size()) {
        vmin = min(vmin, sum);
        vmax = max(vmax, sum);

        if(sum &lt;= n) {
            if(ans &lt; sum) {
                ans = sum;
                cnt = 1;
                res.clear();
                rep(i, v.size()) res.push_back(v[i]);
            } else if(ans == sum) {
                cnt++;
            }
        }
        return;
    }

    REP(j, 1, s.size() + 1) {
        if(i + j &lt;= s.size() ) {
            vector&lt;int&gt; t(v.begin(), v.end());
            t.push_back(stoa(s.substr(i, j)));
            dfs(i + j, sum + stoa(s.substr(i, j)), t);
        } else return;
    }
}

int main() {
    while(cin &gt;&gt; n &gt;&gt; s) {
        if(n == 0 &amp;&amp; s == "0") break;

        vmin = INF, vmax = 0, ans = 0, cnt = 0;
        res.clear();

        vector&lt;int&gt; v;
        dfs(0, 0, v);

        if(vmin &gt; n) {
            cout &lt;&lt; "error" &lt;&lt; endl;
        } else if(cnt &gt;= 2) {
            cout &lt;&lt; "rejected" &lt;&lt; endl; 
        } else {
            cout &lt;&lt; ans;
            rep(i, res.size()) {
                cout &lt;&lt; " " &lt;&lt; res[i];
            }
            cout &lt;&lt; endl;
        }
    }
    return 0;
}
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AOJ0546 Lining up the cards]]></title>
    <link href="http://ry0u.github.io/blog/2016/02/10/aoj0546-lining-up-the-cards/"/>
    <updated>2016-02-10T21:50:42+09:00</updated>
    <id>http://ry0u.github.io/blog/2016/02/10/aoj0546-lining-up-the-cards</id>
    <content type="html"><![CDATA[<p>問題文<br/>
<a href="http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0546">http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0546</a></p>

<!-- more-->


<p>最大<script type="math/tex"> Nが10</script>なので全探索してsetにぶっ込んで終了だと思ったけどTLEした．k番目より後ろが変更してもできる整数は一緒なので，k番目までの状態もsetにぶっ込んだらACした．</p>

<h1>Code</h1>

<pre><code class="cpp">#include &lt;iostream&gt;
#include &lt;sstream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;set&gt;
#include &lt;map&gt;

#define REP(i,k,n) for(int i=0;i&lt;n;i++)
#define rep(i,n) for(int i=0;i&lt;n;i++)

using namespace std;

typedef long long ll;
typedef pair&lt;int, int&gt; P;

int func(vector&lt;int&gt; v, int k) {
    stringstream ss;
    rep(i, k) {
        ss &lt;&lt; v[i];
    }

    int ret;
    ss &gt;&gt; ret;

    return ret;
}

int main() {
    int n;
    while(cin &gt;&gt; n) {
        if(n == 0) break;

        int k;
        cin &gt;&gt; k;

        vector&lt;int&gt; v(n);
        rep(i, n) cin &gt;&gt; v[i];

        sort(v.begin(), v.end());

        set&lt;int&gt; ans;
        set&lt;vector&lt;int&gt; &gt; st;


        do {
            vector&lt;int&gt; ret(k);
            rep(i, k)  ret[i] = v[i];

            if(st.find(ret) == st.end()) {
                st.insert(ret);
                ans.insert(func(v, k));
            } else continue;
        }while(next_permutation(v.begin(), v.end()));

        cout &lt;&lt; ans.size() &lt;&lt; endl;
    }
    return 0;
}
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[yukicoder No.77 レンガのピラミッド]]></title>
    <link href="http://ry0u.github.io/blog/2015/09/03/yukicoder-no-dot-77-rengafalsepiramitudo/"/>
    <updated>2015-09-03T21:06:33+09:00</updated>
    <id>http://ry0u.github.io/blog/2015/09/03/yukicoder-no-dot-77-rengafalsepiramitudo</id>
    <content type="html"><![CDATA[<p><a href="http://yukicoder.me/problems/186">http://yukicoder.me/problems/186</a></p>

<h1>考察</h1>

<p>移動とは</p>

<blockquote><p>任意の列の一番上にある1つのレンガを持ち，別の列に移動するか，もしくは捨て置き場に移動すること．</p></blockquote>

<p>なので，ピラミッドの長さを決めたら，それに対応する長さとのdiffを取る．もし超えている部分のほうが大きくても捨て置き場に置けばよいので，長さを決め打ちすれば，その長さにするための移動数が求まる．ピラミッドの長さはNよりも大きくてもよいので(特に考えず出してWAを生やした)，十分な回数まで調べた．</p>

<h1>Code</h1>

<pre><code class="cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
#include &lt;sstream&gt;
#include &lt;map&gt;
#include &lt;set&gt;

#define REP(i,k,n) for(int i=k;i&lt;n;i++)
#define rep(i,n) for(int i=0;i&lt;n;i++)
#define INF 1&lt;&lt;30
#define pb push_back
#define mp make_pair

using namespace std;
typedef long long ll;
typedef pair&lt;int,int&gt; P;

vector&lt;int&gt; init(int n) {
    vector&lt;int&gt; ret;
    rep(i,n/2) {
        ret.push_back(i+1);
    }
    ret.push_back(n/2+1);
    for(int i=n/2; i&gt;0; i--) {
        ret.push_back(i);
    }
    return ret;
}

int main() {
    int n;
    cin &gt;&gt; n;

    vector&lt;int&gt; v(1005);
    rep(i,n) cin &gt;&gt; v[i];

    int ans = INF;

    REP(size,1,1005) {
        if(size % 2 == 0) continue;
        vector&lt;int&gt; t = init(size);

        rep(i,n) {
            int a = 0, b = 0;

            rep(j,i) a += v[j];

            REP(j,i,size) {
                if(v[j] &gt; t[j-i]) {
                    a += v[j] - t[j-i];
                }
                if(v[j] &lt; t[j-i]) {
                    b += t[j-i] - v[j];
                }
            }

            REP(j,size,n) a += v[j];

            if(a &gt;= b) {
                ans = min(ans,a);
            }
        }
    }

    cout &lt;&lt; ans &lt;&lt; endl;

    return 0;
}
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[yukicoder No.43 野球の試合]]></title>
    <link href="http://ry0u.github.io/blog/2015/09/03/yukicoder-no-dot-43-ye-qiu-falseshi-he/"/>
    <updated>2015-09-03T13:39:56+09:00</updated>
    <id>http://ry0u.github.io/blog/2015/09/03/yukicoder-no-dot-43-ye-qiu-falseshi-he</id>
    <content type="html"><![CDATA[<p><a href="http://yukicoder.me/problems/8">http://yukicoder.me/problems/8</a></p>

<h1>考察</h1>

<p>0番目のチームに"-&ldquo;がある場合は必ず，勝ちにする．それ以外の場合はより勝っているチームが負け，負けているチームが勝つようにする，という貪欲は上手くいきそうにない．Nが最大6なので，全てが&rdquo;-&ldquo;だとしても状態数は2<sup>18</sup>．よって全ての状態を列挙して，最大で何位になれるかを見る．</p>

<h1>Code</h1>

<pre><code class="cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
#include &lt;sstream&gt;
#include &lt;map&gt;
#include &lt;set&gt;

#define REP(i,k,n) for(int i=k;i&lt;n;i++)
#define rep(i,n) for(int i=0;i&lt;n;i++)
#define INF 1&lt;&lt;30
#define pb push_back
#define mp make_pair

using namespace std;
typedef long long ll;
typedef pair&lt;int,int&gt; P;

int main() {
    int n;
    cin &gt;&gt; n;

    vector&lt;string&gt; v(n);
    rep(i,n) cin &gt;&gt; v[i];

    vector&lt;int&gt; cnt(n);

    rep(i,n) {
        rep(j,n) {
            if(v[i][j] == '#') continue;
            if(v[i][j] == 'o') cnt[i]++;
        }
    }

    set&lt;P&gt; st;
    rep(i,n) {
        rep(j,n) {
            if(v[i][j] == '-') {
                int s = i, t = j;
                if(s &gt; t) swap(s,t);

                st.insert(P(s,t));
            }
        }
    }

    int ans = n;
    int m = st.size();
    if(m == 0) {
        int val = cnt[0];

        sort(cnt.begin(),cnt.end());
        cnt.erase(unique(cnt.begin(),cnt.end()),cnt.end());
        reverse(cnt.begin(),cnt.end());

        rep(i,cnt.size()) {
            if(val == cnt[i]) {
                ans = i;
                break;
            }
        }
    } else {

        vector&lt;P&gt; v2(st.begin(), st.end());

        rep(i,1&lt;&lt;m) {
            vector&lt;int&gt; res(cnt.begin(), cnt.end());
            rep(j,m) {
                P p = v2[j];
                if(i &amp; (1&lt;&lt;j)) {
                    res[p.first]++;
                } else {
                    res[p.second]++;
                }
            }

            int val = res[0];
            sort(res.begin(),res.end());
            res.erase(unique(res.begin(),res.end()),res.end());
            reverse(res.begin(),res.end());

            int id = 0;
            rep(j,res.size()) {
                if(res[j] == val) {
                    id = j;
                    break;
                }
            }

            ans = min(ans,id);
        }
    }

    cout &lt;&lt; ans + 1 &lt;&lt; endl;

    return 0;
}
</code></pre>
]]></content>
  </entry>
  
</feed>
